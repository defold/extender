context:
    dynamo_home: '/Users/chmu/tmp/dynamo-home'
    frameworks: ["Cocoa", "OpenGL", "OpenAL", "AGL", "IOKit", "Carbon", "CoreVideo", "Foundation", "AppKit", "Carbon"]
    includes: ['{{dynamo_home}}/include', '{{dynamo_home}}/ext/include']
    symbols: ["FooSymbol"]

main: |
    #include <stdio.h>

    #if __cplusplus
    extern "C" {
    #endif

    {{#symbols}}
    void {{{.}}}();
    {{/symbols}}

    {{#ext.symbols}}
    void {{{.}}}();
    {{/ext.symbols}}

    #if __cplusplus
    }
    #endif

    void dmExportedSymbols() {
        {{#symbols}}
        {{{.}}}();
        {{/symbols}}
        {{#ext.symbols}}
        {{{.}}}();
        {{/ext.symbols}}
    }

    extern int engine_main(int argc, char* argv[]);

    int main(int argc, char *argv[])
    {
        return engine_main(argc, argv);
    }

    #ifdef DM_PLATFORM_ANDROID

    #if __cplusplus
    extern "C" {
    #endif

    struct android_app;
    extern void _glfwPreMain(struct android_app* state);
    extern void app_dummy();

    void android_main(struct android_app* state)
    {
        // Make sure glue isn't stripped.
        app_dummy();
        _glfwPreMain(state);
    }

    #if __cplusplus
    }
    #endif
    #endif


whitelist:
  defineRe:       "[A-Za-z]+[A-Za-z0-9_]+=?[A-Za-z0-9_]+"

  context:
    arg:                  "[a-zA-Z][a-zA-Z0-9-_]+"
    comma_separated_arg:  "[a-zA-Z][a-zA-Z0-9-_]+"
    number:               "[0-9]+"
    warning:              "[a-zA-Z][a-zA-Z0-9-_]+"

platforms:
  x86-osx:
    context:
        frameworks: []
        engineLibs: ["engine_main", "engine_foo"]
        libPaths:   ["{{dynamo_home}}/lib/darwin", "{{dynamo_home}}/ext/lib/darwin", "{{dynamo_home}}/lib/x86-osx"]

    exePrefix:      ''
    exeExt:         ''
    shlibRe:        'lib(.+)\.dylib'
    stlibRe:        'lib(.+)\.a'
    writeLibPattern: 'lib%s.a'
    writeExePattern: 'dmengine'
    sourceRe:       '(?i).*(.cpp|.c|.cc|.mm|.m)'
    allowedLibs:    ['lber','apr-1.0','AVFAudio','netsnmpmibs.25','bsm','form.5.4','tk','QMIParserDynamic','gmalloc','ncurses','heimdal-asn1','iodbcinst','krb5','tidy','curl.4','pmenergy','python2.7','icucore','ecpg','ATCommandStudioDynamic','dtrace_dyld','lzma.5','pcre.0','pgtypes.3.4','pq.5.6','pam.1','netsnmp.5','energytrace','sasl2.2.0.15','python2.6','germantok','cmph','ssh-keychain','xar.1','xml2','pcreposix.0','m','pam.2','apr-1','auto','alias','c++','ipconfig','Match','crypto.35','netsnmpmibs','cups','exslt.0','iodbcinst.2.1.18','pgtypes.3','mx.A','CRFSuite','cupsmime.1','aprutil-1.0','objc.A','edit','crypto.0.9.8','pmsample','des425','gcc_s.10.5','ruby.2.0','crypto.0.9.7','CRFSuite0.12','auditd.0','edit.2','pthread','ecpg.6.5','odfde','tcl8.5','z.1.1.3','netsnmp.5.2.1','cupsppdc.1','util','lapack','extension','ffi','System','iodbcinst.2','dns_services','pcreposix','mx','panel','ldap','readline','IASUnifiedProgress','edit.3','ssl.0.9.7','csfde','python','hunspell-1.2.0.0.0','netsnmp.25','charset.1.0.0','panel.5.4','gssapi_krb5','aprutil-1','cupsimage.2','BSDPClient.A','menu.5.4','info','spindump','marisa','dl','cupsimage','pq.5','com_err','auditd','UniversalAccess','sasl2.2.0.22','ecpg.6','blas','XSEvent','z','form','ktrace','krb5support','DiagnosticMessagesClient','c++abi','expat.1','System_debug','iodbc','tk8.5','Xplugin.1','pcap.A','curl.3','dbm','iconv','ssl','gcc_s.10.4','netsnmp.15.1.2','xar','menu','exslt','odmodule','alias.A','sasl2','charset','sasl2.2','ThaiTokenizer','tidy.A','archive','bz2.1.0.5','netsnmptrapd','ncurses.5.4','pcre','Fosl_dynamic','cblas','pq','System.B_debug','mecab','ipsec.A','ecpg_compat.3.5','f77lapack','cupsppdc','ipsec','netsnmphelpers.25','edit.3.0','tls','z.1.2.5','netsnmp.15','xslt','resolv','sasl2.2.0.1','iconv.2','ecpg_compat','netsnmpagent','krb524','OpenScriptingUtil','dtrace','cupsmime','bz2','AccountPolicyTranslation','netsnmpagent.25','expat','ssl.0.9.8','cups.2','netsnmphelpers','crypto','z.1','netsnmp','sandbox','CoreStorage','util1.0','DHCPServer.A','langid','Match.1','iodbc.2.1.18','xml2.2','quit','prequelite','stdc++.6.0.9','pcap','objc','ecpg_compat.3','ruby','ScreenReader','c++.1','tls.6','System.B','ChineseTokenizer','ssl.35','sqlite3','proc','BSDPClient','k5crypto','network','hunspell-1.2.0','cupscgi.1','sysmon','bz2.1.0','IASAuthReboot','ldap_r','c','termcap','ncurses.5','archive.2','cupscgi','bsm.0','lzma','iconv.2.4.0','xcselect','poll','sandbox.1','gcc_s.1','iodbc.2','curl','Xplugin','krb4','hunspell-1.2','stdc++','netsnmptrapd.25','rpcsvc','pam','clapack','tcl','mecabra','sasl2.2.0.21','resolv.9','compression','charset.1','icucore.A','pgtypes','DHCPServer','systemstats','TelephonyUtilDynamic','ruby.2.0.0','system_notify','system_c','system_secinit','system_dnssd','removefile','system_malloc','system_blocks','copyfile','xpc','mathCommon','unwind','system_platform','dyld','system_network','system_sandbox','dispatch','system_trace','system_info','keymgr','system_kernel','mathCommon.A','system_networkextension','system_coreservices','system_asl','unc','launch','system_coretls','dispatch','system_pthread','system_m','system_configuration','kxld','quarantine','corecrypto','macho','commonCrypto','system_pthread','compiler_rt','cache','sqlite3.0','stdc++.6','xslt.1','mecab.1.0.0','curses','Accelerate','Accounts','AddressBook','AGL','AppKit','AppKitScripting','AppleScriptKit','AppleScriptObjC','ApplicationServices','AudioToolbox','AudioUnit','AudioVideoBridging','Automator','AVFoundation','AVKit','CalendarStore','Carbon','CFNetwork','CloudKit','Cocoa','Collaboration','Contacts','ContactsUI','CoreAudio','CoreAudioKit','CoreBluetooth','CoreData','CoreFoundation','CoreGraphics','CoreImage','CoreLocation','CoreMedia','CoreMediaIO','CoreMIDI','CoreMIDIServer','CoreServices','CoreTelephony','CoreText','CoreVideo','CoreWLAN','CryptoTokenKit','DirectoryService','DiscRecording','DiscRecordingUI','DiskArbitration','DrawSprocket','DVComponentGlue','DVDPlayback','EventKit','ExceptionHandling','FinderSync','ForceFeedback','Foundation','FWAUserLib','GameController','GameKit','GameplayKit','GLKit','GLUT','GSS','Hypervisor','ICADevices','ImageCaptureCore','ImageIO','IMServicePlugIn','InputMethodKit','InstallerPlugins','InstantMessage','IOBluetooth','IOBluetoothUI','IOKit','IOSurface','JavaFrameEmbedding','JavaScriptCore','JavaVM','Kerberos','Kernel','LatentSemanticMapping','LDAP','LocalAuthentication','MapKit','MediaAccessibility','MediaLibrary','MediaToolbox','Message','Metal','MetalKit','ModelIO','MultipeerConnectivity','NetFS','NetworkExtension','NotificationCenter','OpenAL','OpenCL','OpenDirectory','OpenGL','OSAKit','PCSC','Photos','PhotosUI','PreferencePanes','PubSub','Python','QTKit','QuartzCore','Quartz','QuickLook','QuickTime','Ruby','SceneKit','ScreenSaver','ScriptingBridge','Scripting','SecurityFoundation','Security','SecurityInterface','ServiceManagement','Social','SpriteKit','StoreKit','SyncServices','SystemConfiguration','System','Tcl','Tk','TWAIN','vecLib','VideoDecodeAcceleration','VideoToolbox','vmnet','WebKit']
    allowedFlags:   ["-ObjC","-ObjC++","-Wa,{{comma_separated_arg}}","-W{{warning}}","-ansi","--ansi","-std-default={{arg}}","-stdlib=(libstdc\\+\\+|libc\\+\\+)","-w","-std=(c89|c99|c\\+\\+0x|c\\+\\+11|c\\+\\+14|c\\+\\+17)","-Wp,{{comma_separated_arg}}","-W{{warning}}","--extra-warnings","--warn-{{warning}}","--warn-={{warning}}","-ferror-limit={{number}}","-O([0-4]?|fast|s|z)"]
    compileCmd:     'clang++ -c -arch i386 -target x86_64-apple-darwin11 -isysroot /opt/MacOSX.sdk/ -m32 -O2 -g -mmacosx-version-min=10.7 {{#defines}}-D{{{.}}} {{/defines}} {{#flags}}{{{.}}} {{/flags}} {{#ext.includes}}-I{{{.}}} {{/ext.includes}} {{#ext.frameworkPaths}}-F{{{.}}} {{/ext.frameworkPaths}} {{#includes}}-I{{{.}}} {{/includes}} {{src}} -o{{tgt}}'
    linkCmd:        'clang++ -arch i386 -target x86_64-apple-darwin11 -isysroot /opt/MacOSX.sdk/ -m32 -O2 -g -mmacosx-version-min=10.7 -o {{tgt}} {{#linkFlags}}{{{.}}} {{/linkFlags}} {{#ext.libPaths}}-L{{{.}}} {{/ext.libPaths}} {{#libs}}-l{{{.}}} {{/libs}} {{#ext.libs}}-l{{{.}}} {{/ext.libs}} {{#ext.frameworkPaths}}-F{{{.}}} {{/ext.frameworkPaths}} {{#ext.frameworks}}-framework {{{.}}} {{/ext.frameworks}} {{#frameworks}}-framework {{{.}}} {{/frameworks}} {{#libPaths}}-L{{{.}}} {{/libPaths}} {{#engineLibs}}-l{{{.}}} {{/engineLibs}} {{#src}}{{{.}}} {{/src}}'
    libCmd:         'llvm-ar rcs {{tgt}} {{#objs}}{{{.}}} {{/objs}}'

  armv7-android:
    context:
        engineJars: ["{{dynamo_home}}/share/java/Engine.jar"]
        engineLibs: ["engine_main", "engine_foo"]
        libPaths:   ["{{dynamo_home}}/lib/armv7-android", "{{dynamo_home}}/ext/lib/armv7-android"]

    exePrefix:      'lib'
    exeExt:         '.so'
    shlibRe:        'lib(.+)\.so'
    stlibRe:        'lib(.+)\.a'
    sourceRe:       '(?i).+(\.cpp|\.c|\.cc|\.cxx|\.c\+\+)$'
    javaSourceRe:   '(?i).+(\.java)$'
    writeLibPattern: 'lib%s.a'
    writeExePattern: 'libdmengine.so'
    allowedLibs:    ["gnustl_static","supc\\+\\+","c","m","m_hard","stdc\\+\\+",]
    allowedFlags:   ["-Wa,{{comma_separated_arg}}","-W{{warning}}","-ansi","--ansi","-std-default={{arg}}","-stdlib=(libstdc\\+\\+|libc\\+\\+)","-w","-std=(c89|c99|c\\+\\+0x|c\\+\\+11|c\\+\\+14|c\\+\\+17)","-Wp,{{comma_separated_arg}}","-W{{warning}}","--extra-warnings","--warn-{{warning}}","--warn-={{warning}}","-ferror-limit={{number}}","-O([0-4]?|fast|s|z)"]
    compileCmd:     'arm-linux-androideabi-g++ -c -g -gdwarf-2 -fpic -ffunction-sections -fstack-protector -Wno-psabi -march=armv7-a -mfloat-abi=softfp -mfpu=vfp -fomit-frame-pointer -fno-strict-aliasing -finline-limit=64 -fno-exceptions -funwind-tables --sysroot={{android_sysroot}} -DANDROID -Wa,--noexecstack {{#defines}}-D{{.}} {{/defines}} {{#ext.includes}}-I{{.}} {{/ext.includes}} {{#includes}}-I{{.}} {{/includes}} {{#platformIncludes}}-I{{.}} {{/platformIncludes}} {{src}} -o{{tgt}}'
    linkCmd:        'arm-linux-androideabi-g++ --sysroot={{android_sysroot}} -lEGL -lGLESv1_CM -lGLESv2 {{#src}}{{.}} {{/src}} -o {{tgt}} -Wl,-soname=libdmengine.so {{#defines}}-D{{.}} {{/defines}} -Wl,--fix-cortex-a8 -Wl,--no-undefined -Wl,-z,noexecstack -landroid -fpic -z text {{#ext.libPaths}}-L{{.}} {{/ext.libPaths}} -Wl,-Bstatic -Wl,--start-group {{#ext.libs}}-l{{.}} {{/ext.libs}} -Wl,--end-group {{#libPaths}}-L{{.}} {{/libPaths}} -Wl,-Bstatic {{#engineLibs}}-l{{.}} {{/engineLibs}} -Wl,-Bdynamic -lOpenSLES -lm -llog -lc -Wl,--no-undefined -Wl,-z,noexecstack -Wl,-z,relro -Wl,-z,now -shared'
    libCmd:         'arm-linux-androideabi-ar rcs {{tgt}} {{#objs}}{{.}} {{/objs}}'
    javacCmd:       'javac -source 1.6 -target 1.6 -d {{classesDir}} -classpath {{classPath}} @{{sourcesListFile}}'
    jarCmd:         'jar cvf {{outputJar}} -C {{classesDir}} .'
    dxCmd:          'dx --dex --output {{classes_dex}} {{#jars}}{{.}} {{/jars}} {{#engineJars}}{{.}} {{/engineJars}}'

  js-web:
    env:
        EM_CACHE:    "{{build_folder}}"
    context:
        engineJsLibs: []
        engineLibs: ["engine_main", "engine_foo"]
        libPaths:   ["{{dynamo_home}}/lib/js-web", "{{dynamo_home}}/ext/lib/js-web"]
        flags:      ["-fno-exceptions", "-s", "EXPORTED_FUNCTIONS=[\"_main\"]"]
        linkFlags:  ["--pre-js {{dynamo_home}}/share/js-web-pre.js", "--llvm-lto", "0", "--memory-init-file", "0"]
        emscriptenFlags: ["PRECISE_F32=2", "AGGRESSIVE_VARIABLE_ELIMINATION=1", "TOTAL_MEMORY=268435456", "DISABLE_EXCEPTION_CATCHING=1", "EXPORTED_FUNCTIONS=[\"_main\"]"]
        libs:       []

    exePrefix:      ''
    exeExt:         '.js'
    shlibRe:        'lib(.+)\.so'
    stlibRe:        'lib(.+)\.a'
    sourceRe:       '(?i).*(\.cpp|\.c|\.cc|\.cxx|\.c\+\+)'
    writeLibPattern: 'lib%s.a'
    writeExePattern: 'dmengine.js'
    allowedLibs:    []
    allowedFlags:   ["-Wa,{{comma_separated_arg}}","-W{{warning}}","-ansi","--ansi","-std-default={{arg}}","-stdlib=(libstdc\\+\\+|libc\\+\\+)","-w","-std=(c89|c99|c\\+\\+0x|c\\+\\+11|c\\+\\+14|c\\+\\+17)","-Wp,{{comma_separated_arg}}","-W{{warning}}","--extra-warnings","--warn-{{warning}}","--warn-={{warning}}","-ferror-limit={{number}}","-O([0-4]?|fast|s|z)"]
    compileCmd:     'em++ -c -O3 -g {{#defines}}-D{{{.}}} {{/defines}} {{#flags}}{{{.}}} {{/flags}} {{#ext.includes}}-I{{{.}}} {{/ext.includes}} {{#includes}}-I{{{.}}} {{/includes}} {{src}} -o {{tgt}}'
    linkCmd:        'em++ {{#src}}{{{.}}} {{/src}} -o {{tgt}} -O3 {{#linkFlags}}{{{.}}} {{/linkFlags}} {{#emscriptenFlags}}-s {{{.}}} {{/emscriptenFlags}} {{#ext.libPaths}}-L{{{.}}} {{/ext.libPaths}} {{#libPaths}}-L{{{.}}} {{/libPaths}} {{#libs}}-l{{{.}}} {{/libs}} {{#ext.libs}}-l{{{.}}} {{/ext.libs}} {{#engineLibs}}-l{{{.}}} {{/engineLibs}} {{#ext.jsLibs}}--js-library {{{.}}} {{/ext.jsLibs}} {{#engineJsLibs}}--js-library {{dynamo_home}}/lib/js-web/js/library_{{{.}}}.js {{/engineJsLibs}}'
    libCmd:         'emar rcs {{tgt}} {{#objs}}{{{.}}} {{/objs}}'

  x86_64-win32:
    env:
        TMP:        "{{build_folder}}"
        TEMP:       "{{build_folder}}"
        WINEPATH:   "C:/Program Files (x86)/MSBuild/14.0/bin;C:/Program Files (x86)/Microsoft Visual Studio 14.0/Common7/IDE/;C:/Program Files (x86)/Microsoft Visual Studio 14.0/VC/BIN/x86_amd64;C:/Program Files (x86)/Microsoft Visual Studio 14.0/VC/BIN;C:/Program Files (x86)/Microsoft Visual Studio 14.0/Common7/Tools;C:/WINDOWS/Microsoft.NET/Framework/v4.0.30319;C:/Program Files (x86)/Microsoft Visual Studio 14.0/VC/VCPackages;C:/Program Files (x86)/HTML Help Workshop;C:/Program Files (x86)/Microsoft Visual Studio 14.0/Team Tools/Performance Tools;C:/ProgramFilesx86/WindowsKits/8.1/bin/x64;C:/Program Files (x86)/Microsoft SDKs/Windows/v10.0A/bin/NETFX 4.6.1 Tools/"
    context:
        engineLibs: ["engine_main", "engine_foo"]
        libPaths:   ["{{dynamo_home}}/lib/x86_64-win32","{{dynamo_home}}/ext/lib/x86_64-win32","C:/ProgramFilesx86/MicrosoftVisualStudio14.0/VC/LIB/amd64","C:/ProgramFilesx86/MicrosoftVisualStudio14.0/VC/ATLMFC/LIB/amd64","C:/ProgramFilesx86/WindowsKits/10/lib/10.0.10240.0/ucrt/x64","C:/ProgramFilesx86/WindowsKits/NETFXSDK/4.6.1/lib/um/x64","C:/ProgramFilesx86/WindowsKits/8.1/lib/winv6.3/um/x64"]
        platformIncludes:   ["C:/ProgramFilesx86/MicrosoftVisualStudio14.0/VC/INCLUDE","C:/ProgramFilesx86/MicrosoftVisualStudio14.0/VC/ATLMFC/INCLUDE","C:/ProgramFilesx86/WindowsKits/10/include/10.0.10240.0/ucrt","C:/ProgramFilesx86/WindowsKits/NETFXSDK/4.6.1/include/um","C:/ProgramFilesx86/WindowsKits/8.1/include/shared","C:/ProgramFilesx86/WindowsKits/8.1/include/um","C:/ProgramFilesx86/WindowsKits/8.1/include/winrt"]
        defines:    ["DM_PLATFORM_WINDOWS"]
        flags:      []
        linkFlags:  []
        libs:       ["OpenGL32", "User32", "shell32", "Xinput9_1_0", "WS2_32", "IPHlpApi"]

    exePrefix:      ''
    exeExt:         '.exe'
    shlibRe:        '(.+)\.(dll|Dll|DLL)'
    stlibRe:        '(.+)\.(lib|Lib|LIB)'
    sourceRe:       '(?i).*(\.cpp|\.c|\.cc|\.cxx|\.c\+\+)'
    writeLibPattern: '%s.lib'
    writeExePattern: 'dmengine.exe'
    allowedLibs:    ["comsupp.lib","comsuppd.lib","comsuppw.lib","comsuppwd.lib","concrt.lib","concrtd.lib","delayimp.lib","iso_stdio_wide_specifiers.lib","legacy_stdio_definitions.lib","legacy_stdio_wide_specifiers.lib","libcmt.lib","libcmtd.lib","libconcrt.lib","libconcrt1.lib","libconcrtd.lib","libconcrtd0.lib","libconcrtd1.lib","libcpmt.lib","libcpmt1.lib","libcpmtd.lib","libcpmtd0.lib","libcpmtd1.lib","libvcruntime.lib","libvcruntimed.lib","msvcmrt.lib","msvcmrtd.lib","msvcprt.lib","msvcprtd.lib","msvcrt.lib","msvcrtd.lib","msvcurt.lib","msvcurtd.lib","oldnames.lib","pgobootrun.lib","pgort.lib","ptrustm.lib","ptrustmd.lib","ptrustu.lib","ptrustud.lib","vcamp.lib","vcampd.lib","vccorlib.lib","vccorlibd.lib","vcomp.lib","vcompd.lib","vcruntime.lib","vcruntimed.lib","VsGraphicsHelper.lib","atls.lib","comsupp.lib","comsuppd.lib","comsuppw.lib","comsuppwd.lib","concrt.lib","concrtd.lib","delayimp.lib","iso_stdio_wide_specifiers.lib","legacy_stdio_definitions.lib","legacy_stdio_wide_specifiers.lib","libcmt.lib","libcmtd.lib","libconcrt.lib","libconcrt1.lib","libconcrtd.lib","libconcrtd0.lib","libconcrtd1.lib","libcpmt.lib","libcpmt1.lib","libcpmtd.lib","libcpmtd0.lib","libcpmtd1.lib","libvcruntime.lib","libvcruntimed.lib","msvcmrt.lib","msvcmrtd.lib","msvcprt.lib","msvcprtd.lib","msvcrt.lib","msvcrtd.lib","msvcurt.lib","msvcurtd.lib","oldnames.lib","pgobootrun.lib","pgort.lib","ptrustm.lib","ptrustmd.lib","ptrustu.lib","ptrustud.lib","vcamp.lib","vcampd.lib","vccorlib.lib","vccorlibd.lib","vcomp.lib","vcompd.lib","vcruntime.lib","vcruntimed.lib","VsGraphicsHelper.lib","atls.lib","libucrt.lib","libucrtd.lib","ucrt.lib","ucrtd.lib","alink.lib","corguids.lib","format.lib","mscoree.lib","mscorsn.lib","tlbref.lib","AclUI.Lib","ActiveDS.Lib","ADSIid.Lib","AdvAPI32.Lib","advpack.Lib","ahadmin.lib","alink.lib","amstrmid.lib","api-ms-win-net-isolation-l1-1-0.lib","appmgmts.lib","appmgr.lib","appnotify.lib","audiobaseprocessingobject.lib","audioeng.lib","audiomediatypecrt.lib","AuthZ.Lib","aux_ulib.lib","avifil32.Lib","avrt.lib","basesrv.lib","bcrypt.lib","Bits.Lib","BluetoothApis.lib","bthprops.lib","BufferOverflow.lib","BufferOverflowU.lib","Cabinet.Lib","certadm.lib","certca.lib","certcli.lib","CertIdl.Lib","CertPolEng.Lib","cfgmgr32.lib","clfsmgmt.lib","clfsw32.lib","ClusApi.Lib","ComCtl32.Lib","ComDlg32.Lib","CompPkgSup.lib","compstui.lib","ComSvcs.Lib","corguids.lib","corrEngine.lib","credui.lib","Crypt32.Lib","cryptdll.lib","CryptNet.Lib","cryptui.lib","cryptxml.lib","cscapi.lib","cscdll.lib","d2d1.lib","d3d10.lib","d3d10_1.lib","d3d11.lib","d3d9.lib","d3dcompiler.lib","d3dcsx.lib","d3dcsxd.lib","davclnt.lib","DbgEng.Lib","DbgHelp.Lib","dciman32.lib","dcomp.lib","ddraw.lib","devenum.lib","deviceaccess.lib","devmgr.lib","dflayout.lib","DhcpCSvc.Lib","DhcpCSvc6.Lib","dhcpsapi.lib","difxapi.lib","dinput8.lib","dloadhelper.lib","dmoguids.lib","DnsAPI.Lib","dnscrcli.lib","dnslib.lib","dnsperf.lib","dnsrpc.lib","dnsrslvr.lib","dpx.lib","drt.lib","drtprov.lib","drttransport.lib","dsound.lib","DSProp.Lib","dssec.lib","dststlog.lib","DSUIExt.Lib","DtcHelp.Lib","dwmapi.lib","dwrite.lib","dxgi.lib","dxguid.lib","dxtmsft.lib","dxtrans.lib","dxva2.lib","eappcfg.lib","eappprxy.lib","easregprov.lib","efswrt.lib","ehstorguids.lib","elfapi.lib","els.lib","ElsCore.lib","esent.lib","evr.lib","evr_vista.lib","FaultRep.Lib","feclient.lib","FhSvcCtl.lib","fileextd.lib","fltLib.lib","fontsub.lib","format.lib","FrameDyd.Lib","FrameDyn.Lib","fwpuclnt.lib","fxsutility.lib","Gdi32.Lib","gdiplus.lib","glmf32.lib","GlU32.Lib","GPEdit.Lib","gpmuuid.lib","hbaapi.lib","hhsetup.lib","hid.lib","HLink.Lib","Htmlhelp.Lib","httpapi.lib","iashlpr.lib","Icm32.Lib","Icmui.Lib","IEPMAPI.Lib","iesetup.lib","ImageHlp.Lib","imgutil.Lib","Imm32.Lib","infocardapi.Lib","inseng.lib","IPHlpApi.Lib","Iprop.Lib","irprops.lib","iscsidsc.lib","jsrt.lib","kerbcli.lib","kernel32.Lib","KSProxy.Lib","ksuser.lib","ktmw32.lib","LoadPerf.Lib","locationapi.lib","Lz32.Lib","magnification.lib","MAPI32.Lib","mbnapi_uuid.lib","mciole32.lib","MDMRegistration.lib","Mf.lib","Mfcore.lib","Mfplat.lib","Mfplat_vista.lib","mfplay.lib","mfreadwrite.lib","Mfsrcsnk.lib","mfuuid.lib","Mf_vista.lib","MgmtAPI.Lib","mi.lib","mincore.lib","mincore_downlevel.lib","MMC.Lib","mmdevapi.lib","Mpr.Lib","Mprapi.Lib","mprsnap.lib","MqOA.Lib","MqRt.Lib","msaatext.lib","MSAcm32.Lib","Mscms.Lib","mscoree.lib","mscorsn.lib","MsCtfMonitor.lib","msdasc.lib","msdelta.lib","msdmo.lib","msdrm.lib","Msi.Lib","MSImg32.Lib","mspatcha.lib","mspatchc.lib","mspbase.lib","msports.lib","MSRating.Lib","MSTask.Lib","msv1_0.lib","msvfw32.Lib","MsWSock.Lib","MsXml2.Lib","msxml6.lib","Mtx.Lib","mtxdm.lib","muiload.lib","ncrypt.lib","nddeapi.lib","ndfapi.lib","ndproxystub.lib","NetAPI32.Lib","netlib.lib","NetSh.Lib","newdev.lib","ninput.lib","normaliz.lib","nt.lib","ntdll.lib","ntdsa.lib","NtDsAPI.Lib","ntdsatq.lib","ntdsetup.lib","ntfrsapi.lib","ntlanman.lib","ntmarta.lib","NtQuery.Lib","ntstc_libcmt.lib","ntstc_msvcrt.lib","objsel.lib","odbc32.lib","odbcbcp.lib","odbccp32.lib","OemLicense.lib","Ole32.Lib","OleAcc.Lib","OleAut32.Lib","olecli32.lib","oledb.lib","OleDlg.Lib","olesvr32.lib","ondemandconnroutehelper.lib","OpenGL32.Lib","osptk.lib","p2p.lib","p2pgraph.lib","pathcch.lib","Pdh.Lib","PeerDist.lib","PhotoAcquireUID.lib","PortableDeviceGuids.lib","powrprof.lib","prntvpt.lib","propsys.lib","Psapi.Lib","quartz.lib","query.lib","qutil.lib","qwave.lib","RASAPI32.Lib","RASDlg.Lib","rasuser.lib","resutils.lib","rometadata.lib","rpcexts.lib","Rpcns4.Lib","rpcproxy.lib","RpcRT4.Lib","rpcutil.lib","rstrtmgr.lib","Rtm.Lib","rtutils.lib","RTWorkQ.lib","runtimeobject.lib","samlib.lib","samsrv.lib","SAPI.Lib","sas.lib","sbtsv.lib","SCardDlg.Lib","scecli.lib","scesrv.lib","schannel.lib","ScrnSave.Lib","ScrnSavW.Lib","SearchSDK.lib","Secur32.Lib","security.lib","sens.lib","SensAPI.Lib","sensorsapi.lib","SetupAPI.Lib","Sfc.Lib","shcore.lib","shdocvw.lib","shell32.lib","ShFolder.Lib","ShLwApi.Lib","sisbkup.lib","slc.lib","slcext.lib","slwga.lib","SnmpAPI.Lib","spoolss.lib","SpOrder.Lib","SrClient.lib","ssdpapi.lib","Sti.Lib","strmbase.lib","strmiids.lib","strsafe.lib","structuredquery.lib","Svcguid.Lib","swdevice.lib","synchronization.lib","t2embed.lib","Tapi32.Lib","tapi32l.lib","taskschd.lib","tbs.lib","tdh.lib","tlbref.lib","Traffic.Lib","TranscodeImageUID.lib","tsec.lib","tspubplugincom.lib","twinapi.lib","txfw32.lib","ualapi.lib","UIAutomationCore.lib","umpdddi.lib","Urlmon.Lib","User32.Lib","UserEnv.Lib","USP10.Lib","Uuid.Lib","Uxtheme.lib","vccomsup.lib","vds_uuid.lib","Version.Lib","Vfw32.Lib","Virtdisk.Lib","vscmgr.lib","vssapi.lib","vss_uuid.lib","vstorinterface.lib","wbemuuid.lib","wcmapi.lib","wcmguid.lib","wdsbp.lib","wdsClientAPI.LIB","wdsmc.lib","wdspxe.lib","wdstptc.lib","WebServices.lib","websocket.lib","wecapi.lib","WER.LIB","wevtapi.lib","WiaGuid.Lib","wiaservc.lib","wiautil.lib","WinBio.lib","windows.data.pdf.lib","windows.networking.lib","windows.ui.lib","windowscodecs.lib","windowssideshowguids.lib","winfax.lib","winhttp.lib","WinInet.Lib","WinMM.Lib","winsatapi.lib","winscard.lib","WinSpool.Lib","winsta.lib","WinStrm.Lib","WinTrust.Lib","winusb.lib","wlanapi.lib","wlanui.lib","Wldap32.Lib","wmcodecdspuuid.lib","wmdrmsdk.lib","wmip.lib","wmiutils.lib","wmvcore.lib","wnvapi.lib","workspaceax.lib","WS2_32.Lib","wsbapp_uuid.Lib","wsbonline.lib","wscapi.lib","wsclient.lib","wsdapi.lib","wsmsvc.lib","WSnmp32.Lib","WSock32.Lib","WtsApi32.Lib","wuguid.lib","xapobase.lib","xaswitch.lib","xaudio2.lib","Xinput.lib","Xinput9_1_0.lib","xmllite.lib","xolehlp.lib","xpsprint.lib"]
    allowedFlags:   ["//W([0-4]?|all|X)", "//w([1-4]?|d|e|o)[0-9]{4}", "//O([1-2]?|b|d|g|i|s)", "//openmp"]
    compileCmd:     'wine cl.exe /nologo /TP /O2 /Oy- /Z7 /MT /D__STDC_LIMIT_MACROS /DWINVER=0x0600 /D_WIN32_WINNT=0x0600 /DWIN32 /D_CRT_SECURE_NO_WARNINGS /wd4200 /W3 /EHsc {{#defines}}/D{{{.}}} {{/defines}} {{#flags}}{{{.}}} {{/flags}} {{#ext.includes}}/I{{{.}}} {{/ext.includes}} {{#includes}}/I{{{.}}} {{/includes}} {{#platformIncludes}}/I{{.}} {{/platformIncludes}} {{src}} /c /Fo{{tgt}}'
    linkCmd:        'wine link.exe {{#src}}{{{.}}} {{/src}} /OUT:{{tgt}} /NOLOGO /MANIFEST {{#ext.libPaths}}/LIBPATH:{{{.}}} {{/ext.libPaths}} {{#libPaths}}/LIBPATH:{{{.}}} {{/libPaths}} {{#libs}}{{{.}}}.lib {{/libs}} {{#ext.libs}}{{{.}}}.lib {{/ext.libs}} {{#engineLibs}}{{{.}}}.lib {{/engineLibs}}'
    libCmd:         'wine lib.exe /nologo /OUT:{{tgt}} {{#objs}}{{{.}}} {{/objs}}'
    mtCmd:          'wine mt.exe /nologo -manifest {{tgt}}.manifest -outputresource:{{tgt}};1'
